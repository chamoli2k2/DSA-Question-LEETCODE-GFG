class Solution {
private:
    int findSum(string &s,int idx,int k){
        int sum = 0;
        for(int i=idx; i<idx+k; i++){
            sum += (s[i]-'0')*pow(2,idx+k-i-1);
        }
        return sum;
    }
public:
    bool hasAllCodes(string s, int k) {
        int n = size(s);
        if(n < k) return false;
        int t = pow(2,k);
        vector<int> mp(t,0);

        for(int i=0; i<=n-k; i++){
            int sum = findSum(s,i,k);
            mp[sum] = 1;
        }

        for(int i=0; i<t; i++){
            if(mp[i] == 0) return false;
        }

        return true;
    }
};
